<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="en">
    <head>
        <meta charset='utf-8' />
        <link rel='stylesheet' href='/css/style.css' />
        <style>
            #canvas {
                background-image: url('/img/canvas.svg');
                position: absolute;
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
            }
        </style>
    </head>
    <body>
        <div id='canvas'></div>
        <script src='/d3/d3.js'></script>
        <script src='/d3-tip/index.js'></script>
        <script src='/js/visual/site.js'></script>
        <script src='http://localhost:35729/livereload.js'></script>
        <script>
            var empty={
                    page:'/'
                  , status:'unknown'
                  , mime:'unknown'
                  , get:false
                  , type:'unknown'
                }
              , force={
                    count:1
                  , nodes:[empty]
                  , links:[]
                }
             , data=force

            visual.init();
            visual.set(data.count,data.nodes,data.links);
            visual.draw();
            visual.panel();

            var count=0;
            var map=[{
                node:{
                    page:'/'
                  , status:200
                  , mime:'text/html'
                  , get:true
                  , type:'root'
                }
              , links:['/uno.html','/dos.html','/tres.html','/cuatro.html']
            },{
                node:{
                    page:'/uno.html'
                  , status:200
                  , mime:'text/html'
                  , get:true
                  , type:'page'
                }
              , links:['/style.css','/script.js']
            },{
                node:{
                    page:'/dos.html'
                  , status:200
                  , mime:'text/html'
                  , get:true
                  , type:'page'
                }
              , links:['/style.css','/script.js']
            }];

            setInterval(function(){
                if(count<map.length){
                    visual.add(map[count].node,map[count].links);
                    count++;
                }else{
                    clearInterval();
                }
            },2000);
        </script>
    </body>
</html>

